<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · LessUnitful.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>LessUnitful.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Notations"><span>Notations</span></a></li><li><a class="tocitem" href="#Obtaining-unit-factors"><span>Obtaining unit factors</span></a></li><li><a class="tocitem" href="#Creating-unitful-values"><span>Creating unitful values</span></a></li><li><a class="tocitem" href="#Physical-constants"><span>Physical constants</span></a></li><li><a class="tocitem" href="#Changing-preferred-units"><span>Changing preferred units</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/j-fu/LessUnitful.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1>LessUnitful</h1><p><a href="https://github.com/j-fu/LessUnitful.jl/actions/workflows/ci.yml"><img src="https://github.com/j-fu/LessUnitful.jl/actions/workflows/ci.yml/badge.svg" alt="linux-macos-windows"/></a> <a href="https://j-fu.github.io/LessUnitful.jl/stable"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt/></a> <a href="https://j-fu.github.io/LessUnitful.jl/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt/></a></p><p>Small package which provides convenience tools to access quantities based on <a href="https://github.com/PainterQubits/Unitful.jl">Unitful.jl</a> and <a href="https://github.com/JuliaPhysics/PhysicalConstants.jl">PhysicalConstants.jl</a> in an &quot;unitless&quot; way – as floating point numbers representing the numerical value of a quantity expressed in preferred units (SI base units by default). This appears to be useful in projects using code which cannot easily made unit-aware, e.g. due to the use of sparse linear algebra. </p><h2 id="Notations"><a class="docs-heading-anchor" href="#Notations">Notations</a><a id="Notations-1"></a><a class="docs-heading-anchor-permalink" href="#Notations" title="Permalink"></a></h2><p>The package provides tools to access <a href="https://github.com/PainterQubits/Unitful.jl">Unitful.jl</a> to define floating point constants for <em>units</em> like <code>cm</code>, <code>kPa</code>, <code>mV</code> etc. called <em>unit factors</em>. These <em>unit factors</em> relate units to their corresponding products of powers of  <a href="https://painterqubits.github.io/Unitful.jl/stable/conversion/#Unitful.upreferred"><em>unitful preferred units</em></a> in the sense of <a href="https://github.com/PainterQubits/Unitful.jl">Unitful.jl</a>. </p><p>By default the unitful preferred units are synonymous with the <a href="https://www.nist.gov/pml/owm/metric-si/si-units"><em>SI base units</em></a>. </p><p>Example: Unit: <code>kN</code> <span>$\to$</span> representation in powers of SI base units: <span>$1000\cdot kg\cdot m\cdot s^{-2}$</span>  <span>$\to$</span> unit factor: 1000.0</p><pre><code class="language-julia-repl hljs">julia&gt; using LessUnitful

julia&gt; @unitfactors kN
1000.0</code></pre><p>The unit factor  of a <em>quantity</em> like  <code>5cm</code>, <code>10kPa</code>, <code>3mV</code> is its numerical value  after conversion to products of powers of unitful preferred units.</p><p>Example: Quantity: <code>3kN</code> <span>$\to$</span> representation in powers of SI base units: <span>$3000\cdot kg\cdot m\cdot s^{-2}$</span>  <span>$\to$</span> unit factor: 3000.0</p><pre><code class="language-julia-repl hljs">julia&gt; using LessUnitful

julia&gt; ufac&quot;3kN&quot;
3000.0</code></pre><p>The unitfactor represents the numerical value of a unit/quatity expressed in preferred units:</p><pre><code class="language-julia-repl hljs">julia&gt; using LessUnitful, Unitful

julia&gt; unitfactor(u&quot;cm&quot;)==Unitful.ustrip(Unitful.upreferred(u&quot;1.0cm&quot;))
true</code></pre><p>Reciprocally, one can make a number &quot;unitful&quot;, assuming it corresponds to one of the preferred units. Assume <code>x</code> represents an unit factor  of a quantity with respect to the corresponding products of powers of unitful preferred units. Create this quantity and convert it to  <code>unit</code>: </p><pre><code class="language-julia-repl hljs">julia&gt; using LessUnitful, Unitful

julia&gt; unitful(0.03,u&quot;cm&quot;)==u&quot;cm&quot;(Unitful.float(0.03*Unitful.upreferred(u&quot;cm&quot;)))
true</code></pre><p>Providing these unit factors allows a &quot;unitless&quot; workflow with physical data which is characterized by the following aspects:</p><ul><li>All calculations are done in numerical values corresponding to unitful preferred units (SI base units by default)</li><li>Data input can be performed in at least two different ways:<ul><li>Declare <code>@unitfactors cm</code> and enter e.g. <code>length=10*cm</code></li><li>Enter &quot;unitful&quot; <code>length=10u&quot;cm&quot;</code> and actually provide <code>unitfactor(length)</code> to the &quot;unitless&quot; code </li></ul></li><li>Data output can go as follows - assume result <code>p</code> is a pressure:<ul><li>Declare <code>@unitfactors kPa</code> and do <code>println(&quot;p= &quot;,p/kPa,&quot;kPa&quot;)</code></li><li>Alternatively, do <code>println(p|&gt; u&quot;kPa&quot;)</code></li></ul></li></ul><h2 id="Obtaining-unit-factors"><a class="docs-heading-anchor" href="#Obtaining-unit-factors">Obtaining unit factors</a><a id="Obtaining-unit-factors-1"></a><a class="docs-heading-anchor-permalink" href="#Obtaining-unit-factors" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.unitfactor" href="#LessUnitful.unitfactor"><code>LessUnitful.unitfactor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">unitfactor(x)</code></pre><p>Calculate the unit factor of a quantity or unit <code>x</code>.</p><p><strong>Example:</strong></p><pre><code class="language-julia-repl hljs">julia&gt; unitfactor(u&quot;3mV&quot;)
0.003
julia&gt; u&quot;3mV&quot;|&gt; unitfactor
0.003</code></pre><pre><code class="language-julia-repl hljs">julia&gt; unitfactor(u&quot;mV&quot;)
0.001
julia&gt; u&quot;mV&quot;|&gt; unitfactor
0.001</code></pre><p>Compare this with the corresponding calculations with Unitful values:</p><pre><code class="language-julia-repl hljs">julia&gt; u&quot;1mV&quot; |&gt; u&quot;V&quot; |&gt; Unitful.float
0.001 V</code></pre><p>See <a href="#LessUnitful.unitful"><code>unitful</code></a> for the reciprocal operation:</p><pre><code class="language-julia-repl hljs">julia&gt; u&quot;1cm&quot; |&gt; unitfactor |&gt; u&quot;cm&quot;
1.0 cm</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.@ufac_str" href="#LessUnitful.@ufac_str"><code>LessUnitful.@ufac_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@ufac_str</code></pre><p>String macro for calculating the unit factor of a quantity or physical constant, see also <a href="#LessUnitful.unitfactor"><code>unitfactor</code></a>.</p><p><strong>Example:</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ufac&quot;1mV&quot;
0.001</code></pre><p>This also allows to access  the physical constants q, c0, μ0, ε0, Z0, G, gn, h, ħ, Φ0, me, mn, mp, μB, Na, k, R, σ, R∞ defined in <code>Unitful.jl</code>.</p><p>See  <a href="#LessUnitful.@ph_str"><code>@ph_str</code></a>  for an alternative way to access physical constants.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.@unitfactors" href="#LessUnitful.@unitfactors"><code>LessUnitful.@unitfactors</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@unitfactors</code></pre><p>Declare unit factors of units as global constants.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; @unitfactors cm;

julia&gt; 3cm
0.03</code></pre><p>We can declare multiple unit factors at once:</p><pre><code class="nohighlight hljs">@unitfactors mm cm km A V</code></pre><pre><code class="language-julia-repl hljs">julia&gt; @unitfactors cm mm;

julia&gt; cm+mm
0.011</code></pre><p>Compare this with the corresponding calculations with Unitful values:</p><pre><code class="language-julia-repl hljs">julia&gt; u&quot;1cm&quot;+u&quot;1mm&quot;|&gt; float
0.011 m</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.@local_unitfactors" href="#LessUnitful.@local_unitfactors"><code>LessUnitful.@local_unitfactors</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@local_unitfactors</code></pre><p>Declare unit factors of units as local variables.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">function f()
    @local_unitfactors cm
    3cm
end
f()
# output
0.03</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><h2 id="Creating-unitful-values"><a class="docs-heading-anchor" href="#Creating-unitful-values">Creating unitful values</a><a id="Creating-unitful-values-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-unitful-values" title="Permalink"></a></h2><p>For convenience, lessUnitful re-exports <a href="https://painterqubits.github.io/Unitful.jl/stable/manipulations/#Unitful.@u_str"><code>@u_str</code></a> from  <a href="https://github.com/PainterQubits/Unitful.jl">Unitful.jl</a>.</p><pre><code class="language-julia-repl hljs">julia&gt; using LessUnitful

julia&gt; u&quot;1.0mV&quot;
1.0 mV</code></pre><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.unitful" href="#LessUnitful.unitful"><code>LessUnitful.unitful</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">(unit)(x::Real)</code></pre><p>Make number <code>x</code> &quot;unitful&quot; by calling <a href="#LessUnitful.unitful"><code>unitful</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; u&quot;kPa&quot;(200)
0.2 kPa</code></pre><pre><code class="language-julia-repl hljs">julia&gt; 200 |&gt; u&quot;kPa&quot;
0.2 kPa</code></pre><p>Without LessUnitful, the result of this operation would be:</p><pre><code class="nohighlight hljs">ERROR: DimensionError: kPa and 200 are not dimensionally compatible.</code></pre><p>This may be convenient when printing with units:</p><p>Instead of </p><pre><code class="language-julia hljs">@unitfactors μA mA;
x = 15mA
println(x/μA,&quot; μA&quot;)
# output
15000.0 μA</code></pre><p>one can use </p><pre><code class="language-julia hljs">@unitfactors  μA mA
x = 15mA
println(x|&gt;u&quot;μA&quot;)  
# output
15000.0 μA</code></pre><p>See <a href="#LessUnitful.unitfactor"><code>unitfactor</code></a> for the reciprocal operation:</p><pre><code class="nohighlight hljs">julia&gt;  0.05|&gt; u&quot;cm&quot; |&gt; unitfactor
0.05</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.unitful-Tuple{Any, Any}" href="#LessUnitful.unitful-Tuple{Any, Any}"><code>LessUnitful.unitful</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unitful(x,unit)</code></pre><p>Make number <code>x</code> &quot;unitful&quot;. </p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; unitful(200,u&quot;kPa&quot;)
0.2 kPa</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><h2 id="Physical-constants"><a class="docs-heading-anchor" href="#Physical-constants">Physical constants</a><a id="Physical-constants-1"></a><a class="docs-heading-anchor-permalink" href="#Physical-constants" title="Permalink"></a></h2><p>As already described above, the <a href="#LessUnitful.@ufac_str"><code>@ufac_str</code></a>  macro can be used to extract the values of  physical constants from  <a href="https://juliaphysics.github.io/PhysicalConstants.jl/stable/constants/#CODATA2018-1">PhysicalConstants.CODATA2018</a>.</p><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.@ph_str" href="#LessUnitful.@ph_str"><code>LessUnitful.@ph_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@ph_str</code></pre><p>String macro for calculating the unit factor of a physical constant from <a href="https://juliaphysics.github.io/PhysicalConstants.jl/stable/constants/#CODATA2018-1">PhysicalConstants.CODATA2018</a></p><pre><code class="language-julia-repl hljs">julia&gt; ph&quot;N_A&quot;
6.02214076e23</code></pre><pre><code class="language-julia-repl hljs">julia&gt; ph&quot;N_A*e&quot;
96485.33212331001</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.@phconstants" href="#LessUnitful.@phconstants"><code>LessUnitful.@phconstants</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@phconstants</code></pre><p>Declare numerical values of physical constants as unit factors with respect to  unitful preferred units as constants.  The information is obtained from <a href="https://juliaphysics.github.io/PhysicalConstants.jl/stable/constants/#CODATA2018-1">PhysicalConstants.CODATA2018</a></p><p><strong>Example:</strong></p><pre><code class="language-julia-repl hljs">julia&gt; @phconstants N_A
6.02214076e23</code></pre><p>This is equivalent to</p><pre><code class="nohighlight hljs">const N_A = ustrip(upreferred(PhysicalConstants.CODATA2018.N_A))</code></pre><p>and we can &quot;declare&quot; multiple constants</p><pre><code class="nohighlight hljs">@phconstants AvogadroConstant c_0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LessUnitful.@local_phconstants" href="#LessUnitful.@local_phconstants"><code>LessUnitful.@local_phconstants</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@local_phconstants</code></pre><p>Like <a href="#LessUnitful.@phconstants"><code>@phconstants</code></a> but declares a local variable.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">function f()
    @local_phconstants N_A
    N_A
end
f()
# output
6.02214076e23</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/LessUnitful.jl">source</a></section></article><h2 id="Changing-preferred-units"><a class="docs-heading-anchor" href="#Changing-preferred-units">Changing preferred units</a><a id="Changing-preferred-units-1"></a><a class="docs-heading-anchor-permalink" href="#Changing-preferred-units" title="Permalink"></a></h2><p>By calling <a href="https://painterqubits.github.io/Unitful.jl/stable/conversion/#Unitful.preferunits">Unitful.preferunits</a>  the preferred units can be changed from SI base units to e.g. <code>g</code> for mass and <code>cm</code> for length.</p><p>In order to be effective, this needs to be called before any invocation of  <a href="https://painterqubits.github.io/Unitful.jl/stable/conversion/#Unitful.upreferred">Unitful.upreferred</a>, and as a consequence, before  any invocation of macros or functions from the LessUnitful package.</p><p>Due to <a href="https://github.com/PainterQubits/Unitful.jl/issues/545">this issue</a> for Julia 1.8 it is advised to evaluate at least one of the unit factors from LessUnitful immediately after calling <code>preferunits</code>.</p><p>Moreover, while it is convenient to use e.g. <a href="#LessUnitful.@unitfactors"><code>@unitfactors</code></a> in the global scope of a package, it is important to understand that values in global scope are evaluated  <em>during precompilation</em> and cannot be influenced by <a href="https://painterqubits.github.io/Unitful.jl/stable/conversion/#Unitful.upreferred">Unitful.upreferred</a>. Therefore it appears that packages which are designed to work consistently with other defaults than SI base units should  avoid the use of <a href="#LessUnitful.@unitfactors"><code>@unitfactors</code></a> and <a href="#LessUnitful.@phconstants"><code>@phconstants</code></a>. The use of <a href="#LessUnitful.@local_unitfactors"><code>@local_unitfactors</code></a> and <a href="#LessUnitful.@local_phconstants"><code>@local_phconstants</code></a>, and of <a href="#LessUnitful.@ufac_str"><code>@ufac_str</code></a>, <a href="#LessUnitful.unitfactor"><code>unitfactor</code></a>, <a href="#LessUnitful.unitful"><code>unitful</code></a> does not suffer from this problem, though.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.21 on <span class="colophon-date" title="Saturday 23 July 2022 12:43">Saturday 23 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
